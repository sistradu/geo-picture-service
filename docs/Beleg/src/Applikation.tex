\section{Applikation}
\label{JumpApplikation}
%TODO anderen Namen vergeben?, Unterabschnitte anpassen
\subsection{Controller}
\subsubsection{UserController}
Die gesamte Benutzerverwaltung regelt der Usercontroller. Er stellt u.a. Methoden für die Kontoerstellung, die Anmeldung und das Zusenden eines neuen Passworts zur Verfügung. Außerdem wird in einer Variable die Information bereitgestellt, ob ein Benutzer angemeldet ist oder nicht. Dies ist für die Darstellung der Webseiten von großer Bedeutung. Da nicht alles für unangemeldete Benutzer angezeigt werden soll, werden "`private"' Bereiche mittels "`rendered"'-Attribut nur angezeigt, wenn der Benutzer angemeldet ist.\\
\\
Das Anlegen eines neuen Benutzkontos läuft wie folgt ab. Der Benutzer wählt einen Benutzernamen und gibt seine EMail-Adresse an. An diese Adresse wird ein zufälllig generiertes Passwort gesendet. Auf diese Weise soll verifiziert werden, ob es die EMail-Adresse wirklich gibt. Sollte ein Benutzer nämlich sein Passwort vergessen, wird ein neues Passwort an diese EMail-Adresse gesendet. Für das zufällige Erzeugen des Passworts wird mittels einer Zufallszahl ein Buchstabe oder eine Zahl aus einer vorgegebenen Auswahl von Zeichen gewhählt und in einem String verkettet. Den Code der Methode findet man im Anhang auf Seite \pageref{lstRandomPasswort} im Listing \autoref{lstRandomPasswort}.\\
\\
Beim Umgang mit Benutzerdaten gibt es immer auch Anforderungen an die Sicherheit. So soll es vermieden werden, dass Passwörter unverschlüsselt gespeichert werden. Unter Beachtung dieses Hinweises werden die Passwörter deswegen verschlüssselt gespeichert. Als Verschlüsselungsmethode wird der Hash-Algorithmus MD5 verwendet. Sobald ein Passwort von der View an den Controller übergeben wird, erfolgt die Verschlüsselung bereits im Setter für die Passwortvariable. Auf diese Weise wird verhindert, dass irgendwo in der Anwendung ein unverschlüsseltes Passwort zur Verfügung steht. Um nun festzustellen ob das vom Benutzer eingegebene Passwort das Richtige ist, wird das bei der Eingabe verschlüsselte Passwort mit dem Passwort aus der Datenbank verglichen. Sobald diese beiden Passwörter übereinstimmen erfolgt die Anmeldung. Die Methode, die das Verschlüsseln bewerkstelligt findet man wieder im Anhang im Listing \autoref{lstEncryptPasswort} auf Seite \pageref{lstEncryptPasswort}.\\
\\
Wie bereits weiter oben erwähnt, werden EMails zur Verifizierung bzw. Zum Zurücksetzen des Passworts verschickt. Dafür wird die JavaMailAPI von Oracle verwendet. Aus dieser API werden allerdings nur die "`mailapi.jar"' und die "`smtp.jar"' verwendet, da die anderen jar-Dateien wie z.B "`imap.jar"' nicht benötigt werden. Die JavaMailAPI bietet Methoden an, damit der Inhalt der EMail und Verbindungseigenschaften zum Server gesetzt werden können. So kann z.B. eingestellt werden, dass die Verbindung zum Server über SSL hergestellt werden soll. Im Listing \autoref{lstMailversand} auf Seite \pageref{lstMailversand} im Anhang findet man die Methode, mit der die EMails versendet werden.
\subsection{Scopes}
\subsection{Beanzugriff}
\subsection{MessageProperties}

\subsection{EMail}
Für die Benutzerkontoerstellung und das Zusenden eines neuen Passworts haben wir in unserem Projekt die Möglichkeit vorgesehen EMails zu versenden. Da der EMail-Versand zwingend ein EMail-Account erfordert, haben wir einen Mailserver eingerichtet, womit diese EMails verschickt werden konnten. Allerdings haben wir relative schnell Probleme festgestellt. So funktionierte das Schicken der Mails nur an die Hochschul-EMail-Adresse. Bei anderen Mail-Anbietern kamen keine EMails an. Sie wurden noch nicht einmal im Spam Ordner angezeigt. Der Grund hierfür liegt wahrscheinlich darin, dass die anderen Mail-Anbieter unsere Adresse nicht als vertrauenswürdig einstuften.\\
\\
Dies war aber nicht das einzigste Problem. Probleme mit unserem VServer erzwangen ein Neustart des Mail-Servers. Danach hat das Senden von Mails nicht mehr funktioniert. Wo die Gründe liegen ist leider nicht ohne eine aufwendige Problemanalyse raus zu bekommen. In Anbetracht der knappen Zeit haben wir uns dafür entschieden, bei GMX ein Mailkonto einzurichten und über diese Adresse die Mails zu schicken.\\
\\
Nun steht natürlich die Frage im Raum warum wir das nicht von Anfang an gemacht haben und uns mit dem Aufwand, dem Einrichten eines Mailservers, viel Arbeit aufgeladen haben. Der Grund dafür waren bedenken, einen "`Sinnlos-Account"' einzurichten. Es werden ja nur einige wenige EMails versendet. Außerdem macht eine eigene EMail-Adresse immer einen besseren Eindruck. Wäre mehr Zeit gewesen hätten wir sicher das Problem mit unserem Mailserver lösen können, aber so mussten wir eben diese Alternative verwenden.